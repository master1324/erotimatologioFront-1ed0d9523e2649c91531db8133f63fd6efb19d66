
<div class="alert alert-danger" id="saved" role="alert" style="display: none;width: 400px;">
    {{errorMessage}}
</div>
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="border round" style="padding: 15px;">
    <h4>Εγράφη</h4>
    <!-- USERNAME -->
    <div class="form-row" style="padding: 10px;">
        <div class="form-group">
            <label for="username">Όνομα Χρήστη</label>
            <input type="text" class="form-control" id="username" formControlName="username" placeholder="Όνομα Χρήστη"
                aria-describedby="username">
            <div id="username">

            </div>
        </div>
    </div>

    <!-- PASSWORDS -->
    <div formGroupName="passwords" class="form-row">
        <div class="form-row" style="padding: 10px;">
            <div class="form-group">
                <label for="password">Κωδικός</label>
                <input type="password" class="form-control" id="password" formControlName="password"
                    placeholder="Κωδικός">
            </div>
        </div>

        <div class="form-row" style="padding: 10px;">
            <div class="form-group">
                <label for="passwordConfirm">Επιβεβαίωση κωδικού</label>
                <input type="password" id="passwordConfirm" formControlName="passwordConfirm"
                    placeholder="Επιβεβαίωση κωδικού" aria-describedby="dontmatch" id="dontmatch"
                    [ngClass]="registerForm.hasError('notSame', 'passwords') && (registerForm.get('passwords.passwordConfirm').dirty) && (registerForm.get('passwords.passwordConfirm').value != '')? 'form-control is-invalid':'form-control '">
                <div id="dontmatch" class="invalid-feedback"
                    *ngIf="registerForm.hasError('notSame', 'passwords') && (registerForm.get('passwords.passwordConfirm').dirty) && (registerForm.get('passwords.passwordConfirm').value != '')">
                    Οι κωδικοί δεν ταιριάζουν
                </div>
            </div>
        </div>


    </div>


    <!-- EMAIL -->
    <div class="form-row" style="padding: 10px;">
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" formControlName="email" aria-describedby="email"
                placeholder="pXXXXX@unipi.gr"
                [ngClass]="(registerForm.controls['email'].errors != null) && (registerForm.controls['email'].value != '') && (registerForm.controls['email'].dirty)?'form-control is-invalid ':'form-control  '">

            <div *ngIf="registerForm.controls['email'].errors != null && registerForm.controls['email'].value != '' && registerForm.controls['email'].dirty"
                id="email" class="invalid-feedback">
                Μη συμβατό email
            </div>
        </div>
    </div>

    <div class="form-row" style="padding: 10px;">
        <button type="submit" [disabled]="!registerForm.valid" class="btn btn-primary">Εγράφη</button>
    </div>

</form>